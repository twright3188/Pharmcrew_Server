package kr.ant.kpa.pharmcrew.converter;

import org.springframework.stereotype.Component;

import com.bumdori.util.DateUtils;

import kr.ant.kpa.pharmcrew.Config;
import kr.ant.kpa.pharmcrew.db.vo.member.MemberNotiVo;
import kr.ant.kpa.pharmcrew.db.vo.member.MemberPartnerVo;
import kr.ant.kpa.pharmcrew.db.vo.member.MemberVo;
import kr.ant.kpa.pharmcrew.db.vo.partners.PartnersVo;
import kr.ant.kpa.pharmcrew.resp.member.Member;
import kr.ant.kpa.pharmcrew.resp.member.Noti;
import kr.ant.kpa.pharmcrew.resp.root.Partner;

@Component("memberConverter")
public class MemberConverter {

	//@Autowired
	//private 서비스클래스 서비스이름 (ActionService service);

	////////////////////////////////////////////////////////////////////////////////////////
	//	1.사용자 인증 및 인증코드 요청
	////////////////////////////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////////////////////////////
	//	2.문자 인증하기
	////////////////////////////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////////////////////////////
	//	3.알림 목록 요청
	////////////////////////////////////////////////////////////////////////////////////////

	public Noti convertNoti(MemberNotiVo vo) {

		Noti o = new Noti();

		o.setId(vo.getNoti_id()  );
		o.setTitle(vo.getTitle()  );
		o.setBody(vo.getBody()  );
		o.setCategory(vo.getCartegory_div()  );
		o.setMoveType(vo.getMove_div()  );
		o.setMoveUrl(vo.getMove_url()  );
		o.setMoveId(vo.getMove_id()  );
		
		if (vo.getReg_dt() != null) {
			o.setDate(DateUtils.getStringFromDate(vo.getReg_dt(), "yyyy.MM.dd") );
		}
		
		return o;
	}

	////////////////////////////////////////////////////////////////////////////////////////
	//	4.내 정보 요청
	////////////////////////////////////////////////////////////////////////////////////////

	public Member convertMember(MemberVo vo) {

		Member o = new Member();

		o.setId(vo.getMember_id()  );
		o.setLicense(vo.getLicense_no()  );
		o.setName(vo.getName()  );
		o.setOrg_0(vo.getOrg_0_name()  );
		o.setOrg_1(vo.getOrg_1_name()  );
		o.setOrg_2(vo.getOrg_2_name()  );

		o.setBirth(vo.getBirthday()  );
		o.setPhone(vo.getHandphone()  );
		o.setSex(vo.getSex_div()  );
		o.setEmail(vo.getEmail() );
		o.setRegDate(vo.getReg_dt());
		
		// 프로일 이미지 
		if (vo.getProfileFile() != null) {
			o.setProfile(Config.Inst.localStorageUrl() + vo.getProfileFile().getPath() + "/" + vo.getProfileFile().getName() );
		}

		return o;
	}

	////////////////////////////////////////////////////////////////////////////////////////
	//	5.설정 정보 요청
	////////////////////////////////////////////////////////////////////////////////////////

	public Partner convertPartner(MemberPartnerVo memVo, int index) {

		Partner o = new Partner();

		PartnersVo vo = memVo.getPartnersVo();
		
		o.setId(vo.getPartner_id()  );
		o.setIdx(index);
		o.setName(vo.getName());
		o.setDetail(vo.getDetail()  );
		o.setLink(vo.getMove_url()  );
		o.setIsUse(vo.getIsUsing() );
		
		// 아이콘 이미지 
		if (memVo.getIconFile() != null) {
			o.setImage(Config.Inst.localStorageUrl() + memVo.getIconFile().getPath() + "/" + memVo.getIconFile().getName() );
		}

		return o;
	}
	
	public Partner convertPartner(PartnersVo vo, int index) {

		Partner o = new Partner();

		o.setId(vo.getPartner_id()  );
		o.setIdx(index);
		o.setName(vo.getName());
		o.setDetail(vo.getDetail()  );
		o.setLink(vo.getMove_url()  );
		o.setIsUse(vo.getIsUsing() );
		
		// 아이콘 이미지 
		if (vo.getIconFile() != null) {
			o.setImage(Config.Inst.localStorageUrl() + vo.getIconFile().getPath() + "/" + vo.getIconFile().getName() );
		}

		return o;
	}

	////////////////////////////////////////////////////////////////////////////////////////
	//	6.파트너서비스 업데이트
	////////////////////////////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////////////////////////////
	//	7.푸시 설정 업데이트
	////////////////////////////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////////////////////////////
	//	8.프로필 이미지 등록
	////////////////////////////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////////////////////////////
	//	9. 프로필 이미지 삭제
	////////////////////////////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////////////////////////////
	//	10. 회원정보 등록
	////////////////////////////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////////////////////////////
	//	11. 임시비밀번호 발급 요청
	////////////////////////////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////////////////////////////
	//	12. 비밀번호 변경
	////////////////////////////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////////////////////////////
	//	13. 푸시 수신 등록
	////////////////////////////////////////////////////////////////////////////////////////

}
